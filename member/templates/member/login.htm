{% extends "base.htm" %}
{% block styles %}
<style>
    /* body {
        padding-top: 15px;
        font-size: 12px
      }
      .main {
        max-width: 320px;
        margin: 0 auto;
      }
      .login-or {
        position: relative;
        font-size: 18px;
        color: #aaa;
        margin-top: 10px;
                margin-bottom: 10px;
        padding-top: 10px;
        padding-bottom: 10px;
      }
      .span-or {
        display: block;
        position: absolute;
        left: 50%;
        top: -2px;
        margin-left: -25px;
        background-color: #fff;
        width: 50px;
        text-align: center;
      }
      .hr-or {
        background-color: #cdcdcd;
        height: 1px;
        margin-top: 0px !important;
        margin-bottom: 0px !important;
      }
      h3 {
        text-align: center;
        line-height: 300%;
      } */
    </style>
{% endblock %}

{% block main %}
<div class="container col-sm-10">
    <div class="row">
  
      <div class="main">
  
        <form role="form" method="POST">
                {% csrf_token %}
          <div class="form-group">
            <label for="inputEmail">帳號</label>
            <input type="text" class="form-control" id="inputEmail" name="email" placeholder="註冊信箱">
          </div>
          <div class="form-group">
            
            <label for="inputPassword">密碼</label>
            <input type="password" class="form-control" id="inputPassword" name="password" placeholder="密碼">
            <a class="pull-right" href="#">忘記密碼?</a>
          </div>
          <div class="form-group">
           
            <label for="inputPassword">驗證碼</label>
            <input type="text" name="captcha" id="captcha" placeholder="驗證碼" class="form-control" >          <img id="img_captcha" src="/member/captcha"><button id="btn_captcha" type="button">
              <i class="fas fa-redo-alt"></i>
            </button>
            
          </div>
          <div class="checkbox pull-right">
            <label><input type="checkbox" name="remember" value="True">記住我 </label>
          </div>
          <!--name=value remember=True -->
          <button type="submit" class="btn btn-outline-dark ">
            登入
          </button>
          <a>還沒有帳號？</a><a href="{% url "member:register" %}">點我註冊</a>
        </form>
      
      </div>
      
    </div>
  </div>
{% endblock%}
{% block scripts %}
<script>
  $('#btn_captcha').click(function () {
    var xhr = new XMLHttpRequest();
    xhr.open("GET", "/member/captcha/");
    xhr.responseType = "arraybuffer";
    xhr.addEventListener("load",function(event) {
      var blob = new Blob([xhr.response], {type: "image/png"});
      var imageUrl = window.URL.createObjectURL(blob);   
      $('#img_captcha').attr('src',imageUrl)
    });
    xhr.send();    
  })
</script> 
{% endblock %}